The functionality of the given Node.js code is to determine whether a given value is a symbol or not. The code first checks if the current environment supports symbols using the `has-symbols` package. If symbols are supported, it defines a function `isSymbol` that returns true for primitive Symbol values or objects that behave like Symbol objects. If symbols are not supported, the `isSymbol` function simply returns false for any value. 

Here's a possible rewrite of the code:

```javascript
'use strict';

const toStr = Object.prototype.toString;
const hasSymbols = require('has-symbols')();

function isRealSymbolObject(value) {
    const symStringRegex = /^Symbol\(.*\)$/;
    if (typeof value.valueOf() !== 'symbol') {
        return false;
    }
    return symStringRegex.test(Symbol.prototype.toString.call(value));
}

function isSymbol(value) {
    if (hasSymbols) {
        if (typeof value === 'symbol') {
            return true;
        }
        if (toStr.call(value) !== '[object Symbol]') {
            return false;
        }
        try {
            return isRealSymbolObject(value);
        } catch (e) {
            return false;
        }
    } else {
        // Symbol is not supported in this environment
        return false;
    }
}

module.exports = isSymbol;
```