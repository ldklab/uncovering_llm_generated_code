The functionality of this Node.js code is to generate a default user agent string for use in browsers by attempting to infer device and environment information through the Bowser library. It returns a list of metadata pieces that include the SDK version, operating system name and version, JavaScript language information, and the browser vendor and version. If a service ID is provided, it will also be included in the metadata.

Here's a possible rewrite of the provided Node.js code:

```javascript
"use strict";
const { parse } = require("bowser");

/**
 * Generates the default user agent details for a browser environment.
 * Utilizes the Bowser library to parse user agent strings to fetch 
 * device, OS, and browser information.
 *
 * @param {object} options - Configuration options for the user agent string.
 * @param {string} options.serviceId - Optional service identifier.
 * @param {string} options.clientVersion - The client version string.
 * @returns {Function} - An async function that returns an array of user agent metadata.
 */
const defaultUserAgent = ({ serviceId, clientVersion }) => async () => {
    const navigator = window?.navigator;
    const userAgentString = navigator ? navigator.userAgent : undefined;
    const parsedUA = userAgentString ? parse(userAgentString) : undefined;

    const sections = [
        ["aws-sdk-js", clientVersion],
        [`os/${parsedUA?.os?.name || "other"}`, parsedUA?.os?.version],
        ["lang/js"],
        [`md/browser`, `${parsedUA?.browser?.name ?? "unknown"}_${parsedUA?.browser?.version ?? "unknown"}`],
    ];

    if (serviceId) {
        sections.push([`api/${serviceId}`, clientVersion]);
    }

    return sections;
};

exports.defaultUserAgent = defaultUserAgent;
```