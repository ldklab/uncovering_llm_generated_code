The Node.js code defines a simple assertion module that exports an `assert` function and an additional `assert.equal` function for checking equality. 

1. `assert(val, msg)`: This function checks if the `val` is truthy. If it is not, it throws an error with an optional message `msg`. If `msg` is not provided, it defaults to 'Assertion failed'.

2. `assert.equal(l, r, msg)`: This function compares two values, `l` and `r`, for equality using the `!=` operator. If they are not equal, it throws an error with an optional message `msg`. If `msg` is not provided, it defaults to 'Assertion failed: {l} != {r}', where `{l}` and `{r}` are the values being compared.

Here's a rewritten version of the code:

```javascript
function assert(value, message) {
  if (!value) {
    throw new Error(message || 'Assertion failed');
  }
}

assert.equal = function(value1, value2, message) {
  if (value1 != value2) {
    throw new Error(message || `Assertion failed: ${value1} != ${value2}`);
  }
};

module.exports = assert;
```