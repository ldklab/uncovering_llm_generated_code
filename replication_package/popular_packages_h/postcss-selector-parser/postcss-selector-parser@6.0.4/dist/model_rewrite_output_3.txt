The provided Node.js code is a module that exports a function called `parser`. This function uses a class `processor` from the `./processor` module to create and return a new instance of the processor. Additionally, it imports everything from the `./selectors` module and merges these properties into the `parser` function. The code manages compatibility with ES Modules by handling `__esModule` markers and uses `module.exports` to ensure compatibility with CommonJS. The `__esModule` flag, if present, is removed from the `parser` before export.

Here's a simplified rewrite of the code:

```javascript
"use strict";

const Processor = require("./processor").default;
const selectors = require("./selectors");

function parser(processor) {
  return new Processor(processor);
}

Object.assign(parser, selectors);

module.exports = parser;
```
