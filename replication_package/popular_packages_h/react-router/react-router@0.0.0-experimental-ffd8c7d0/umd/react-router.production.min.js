"use strict";!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("history")):"function"==typeof define&&define.amd?define(["exports","react","history"],t):t((e=e||self).ReactRouter={},e.React,e.HistoryLibrary)}(this,(function(e,t,n){function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function a(e,t){if(!e)throw Error(t)}function o(){return s()}function u(e){var r=e.children;r=void 0===r?null:r;var o=e.action;o=void 0===o?n.Action.Pop:o;var u=e.location,c=e.navigator,l=e.pending;return l=void 0!==l&&l,e=void 0!==(e=e.static)&&e,i()&&a(!1),t.createElement(x.Provider,{children:r,value:{action:o,location:u,navigator:c,pending:l,static:e}})}function i(){return null!=t.useContext(x).location}function c(){return i()||a(!1),t.useContext(x).location}function l(){i()||a(!1);var e=t.useContext(x),n=e.navigator,r=e.pending,o=t.useContext(R).pathname,u=t.useRef(!1);return t.useEffect((function(){u.current=!0})),t.useCallback((function(e,t){void 0===t&&(t={}),u.current&&("number"==typeof e?n.go(e):(e=g(e,o),(t.replace||r?n.replace:n.push)(e,t.state)))}),[n,o,r])}function s(){return t.useContext(R).outlet}function f(e){var n=t.useContext(R).pathname;return t.useMemo((function(){return g(e,n)}),[e,n])}function p(e,n){void 0===n&&(n="");var a=t.useContext(R),o=a.pathname,u=a.params;n=n?$([o,n]):o,a=t.useRef();var i=c();return(o=t.useMemo((function(){return d(e,i,n)}),[i,e,n]))?(a.current!==i&&(a.current=i,o.forEach((function(e,t){var n=e.route;return e=e.params,n.preload&&n.preload(e,i,t)}))),o.reduceRight((function(e,a){var o=a.pathname,i=a.route;return t.createElement(R.Provider,{children:i.element,value:{outlet:e,params:r({},u,{},a.params),pathname:$([n,o]),route:i}})}),null)):null}function h(e){return e.map((function(e){var n={path:e.path||"/",caseSensitive:!0===e.caseSensitive,element:e.element||t.createElement(o,null),preload:e.preload};return e.children&&(n.children=h(e.children)),n}))}function v(e){var n=[];return t.Children.forEach(e,(function(e){if(t.isValidElement(e))if(e.type===t.Fragment)n.push.apply(n,v(e.props.children));else{var r={path:e.props.path||"/",caseSensitive:!0===e.props.caseSensitive,element:e,preload:e.props.preload};e.props.children&&((e=v(e.props.children)).length&&(r.children=e)),n.push(r)}})),n}function d(e,t,a){if(void 0===a&&(a=""),"string"==typeof t&&(t=n.parsePath(t)),t=t.pathname||"/",a){if(a=a.replace(/^\/*/,"/").replace(/\/+$/,""),!t.startsWith(a))return null;t=t===a?"/":t.slice(a.length)}!function(e){var t=e.reduce((function(e,t){return e[t=t[0]]=function(e){var t=(e=e.split("/")).length;return e.some(O)&&(t+=M),e.filter((function(e){return!O(e)})).reduce((function(e,t){return e+(C.test(t)?E:""===t?P:b)}),t)}(t),e}),{});!function(e,t){var n=e.slice(0);e.sort((function(e,r){return t(e,r)||n.indexOf(e)-n.indexOf(r)}))}(e,(function(e,n){var r=e[2];e=t[e[0]];var a=n[2];return e!==(n=t[n[0]])?n-e:function(e,t){return e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}))?e[e.length-1]-t[t.length-1]:0}(r,a)}))}(e=function e(t,n,r,a,o){return void 0===n&&(n=[]),void 0===r&&(r=""),void 0===a&&(a=[]),void 0===o&&(o=[]),t.forEach((function(t,u){var i=$([r,t.path]),c=a.concat(t);u=o.concat(u),t.children&&e(t.children,n,i,c,u),n.push([i,c,u])})),n}(e));var o=null;for(a=0;null==o&&a<e.length;++a)e:{o=t;for(var u=e[a][1],i="/",c={},l=[],s=0;s<u.length;++s){var f=u[s],p="/"===i?o:o.slice(i.length)||"/";if(!(p=m({path:f.path,caseSensitive:f.caseSensitive,end:s===u.length-1},p))){o=null;break e}i=$([i,p.pathname]),c=r({},c,{},p.params),l.push({route:f,pathname:i,params:c})}o=l}return o}function m(e,t){"string"==typeof e&&(e={path:e});var n=e;e=n.path;var r=n.caseSensitive;if(n=function(e,t,n){var r=[],a="^("+e.replace(/^\/*/,"/").replace(/\/?\*?$/,"").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}))+")";return e.endsWith("*")?(e.endsWith("/*")&&(a+="\\/?"),r.push("*"),a+="(.*)"):n&&(a+="\\/?"),n&&(a+="$"),[new RegExp(a,t?void 0:"i"),r]}(e,void 0!==r&&r,void 0===(n=n.end)||n),r=n[1],!(n=t.match(n[0])))return null;t=n[1];var a=n.slice(2);return r=r.reduce((function(e,t,n){n=a[n];try{var r=decodeURIComponent(n.replace(/\+/g," "))}catch(e){r=n}return e[t]=r,e}),{}),{path:e,pathname:t,params:r}}function g(e,t){void 0===t&&(t="/");var r="string"==typeof e?n.parsePath(e):e;e=r.pathname;var a=r.search;return a=void 0===a?"":a,r=void 0===(r=r.hash)?"":r,{pathname:e?y(e,e.startsWith("/")?"/":t):t,search:a,hash:r}}function y(e,t){var n=t.replace(/\/+$/,"").replace(/\/\/+/g,"/").split("/");return e.replace(/\/\/+/g,"/").split("/").forEach((function(e){".."===e?1<n.length&&n.pop():"."!==e&&n.push(e)})),1<n.length?$(n):"/"}var x=t.createContext({pending:!1,static:!1}),R=t.createContext({outlet:null,params:{},pathname:"",route:null}),C=/^:\w+$/,E=2,P=1,b=10,M=-2,O=function(e){return"*"===e},$=function(e){return e.join("/").replace(/\/\/+/g,"/")};e.MemoryRouter=function(e){var r=e.children,a=e.initialEntries,o=e.initialIndex,i=void 0===(e=e.timeoutMs)?5e3:e;null==(e=t.useRef()).current&&(e.current=n.createMemoryHistory({initialEntries:a,initialIndex:o}));var c=(a=t.unstable_useTransition({timeoutMs:i}))[0];a=a[1];var l=e.current;e=(o=t.useReducer((function(e,t){return t}),{action:l.action,location:l.location}))[0];var s=o[1];return t.useLayoutEffect((function(){return l.listen((function(e){c((function(){s(e)}))}))}),[l,c]),t.createElement(u,{children:r,action:e.action,location:e.location,navigator:l,pending:a})},e.Navigate=function(e){var n=e.to,r=e.replace,o=e.state;i()||a(!1);var u=l();return t.useEffect((function(){u(n,{replace:r,state:o})})),null},e.Outlet=o,e.Route=function(e){return void 0===(e=e.element)?t.createElement(o,null):e},e.Router=u,e.Routes=function(e){var t=e.basename;return t=void 0===t?"":t,p(e=v(e.children),t)},e.createRoutesFromArray=h,e.createRoutesFromChildren=v,e.generatePath=function(e,t){return void 0===t&&(t={}),e.replace(/:(\w+)/g,(function(e,n){return null==t[n]&&a(!1),t[n]})).replace(/\/*\*$/,(function(e){return null==t["*"]?"":t["*"].replace(/^\/*/,"/")}))},e.matchPath=m,e.matchRoutes=d,e.resolvePath=g,e.useBlocker=function(e,n){void 0===n&&(n=!0),i()||a(!1);var o=t.useContext(x).navigator;t.useEffect((function(){if(n){var t=o.block((function(n){var a=r({},n,{retry:function(){t(),n.retry()}});e(a)}));return t}}),[o,e,n])},e.useHref=function(e){i()||a(!1);var n=t.useContext(x).navigator;return e=f(e),n.createHref(e)},e.useInRouterContext=i,e.useLocation=c,e.useLocationPending=function(){return t.useContext(x).pending},e.useMatch=function(e){return i()||a(!1),m(e,c().pathname)},e.useNavigate=l,e.useOutlet=s,e.useParams=function(){return t.useContext(R).params},e.useResolvedPath=f,e.useRoutes=function(e,n){return void 0===n&&(n=""),i()||a(!1),p(t.useMemo((function(){return h(e)}),[e]),n)},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=react-router.production.min.js.map
