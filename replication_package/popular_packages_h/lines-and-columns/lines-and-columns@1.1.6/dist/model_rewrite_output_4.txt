The Node.js code defines a module that exports a class named `LinesAndColumns`. This class provides utility functions to manage and compute the line and column positions within a string, which is represented with both LF (`\n`) and CR (`\r`) line endings. Here's a summary of the functionality:

1. **Initialization (`constructor`)**: 
   - Takes a string and constructs an array `offsets` that keeps track of the starting character position (offset) for each line in the string.
   - Iterates through the string to populate this `offsets` array, taking into account both LF and CRLF line endings.

2. **Methods**:
   - `locationForIndex(index)`: Given a character index in the string, returns an object with the corresponding line and column number. Returns `null` for out-of-bounds indices.
   - `indexForLocation(location)`: Given a location (specified with line and column numbers), returns the corresponding character index in the string. Returns `null` if the location is invalid.
   - `lengthOfLine(line)`: Computes and returns the length of a specified line.

Here's a rewrite of the provided code:

```javascript
"use strict";

const LF = '\n';
const CR = '\r';

class LinesAndColumns {
    constructor(string) {
        this.string = string;
        this.offsets = [0];

        let offset = 0;
        while (offset < string.length) {
            const char = string[offset];
            if (char === LF) {
                offset += 1;
                this.offsets.push(offset);
            } else if (char === CR) {
                offset += 1;
                if (string[offset] === LF) {
                    offset += 1;
                }
                this.offsets.push(offset);
            } else {
                offset += 1;
            }
        }
    }

    locationForIndex(index) {
        if (index < 0 || index > this.string.length) {
            return null;
        }

        let line = 0;
        while (this.offsets[line + 1] <= index) {
            line++;
        }
        
        const column = index - this.offsets[line];
        return { line, column };
    }

    indexForLocation(location) {
        const { line, column } = location;
        
        if (line < 0 || line >= this.offsets.length) {
            return null;
        }
        
        if (column < 0 || column > this.lengthOfLine(line)) {
            return null;
        }
        
        return this.offsets[line] + column;
    }

    lengthOfLine(line) {
        const offset = this.offsets[line];
        const nextOffset = line === this.offsets.length - 1 ? this.string.length : this.offsets[line + 1];
        return nextOffset - offset;
    }
}

exports.default = LinesAndColumns;
```