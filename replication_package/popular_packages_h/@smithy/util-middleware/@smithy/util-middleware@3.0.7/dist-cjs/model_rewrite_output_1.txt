The provided Node.js code defines several utility functions to manage JavaScript objects' properties and exports specific functions from separate files. These utility functions include:

1. `__defProp`: A shorthand for `Object.defineProperty`.
2. `__getOwnPropDesc`: A shorthand for `Object.getOwnPropertyDescriptor`.
3. `__getOwnPropNames`: A shorthand for `Object.getOwnPropertyNames`.
4. `__hasOwnProp`: A shorthand for `Object.prototype.hasOwnProperty`.
5. `__name`: A function to set the `name` property of a function to a specified value.
6. `__export`: Exports all properties in a given object to another object and makes them enumerable.
7. `__copyProps`: Copies properties from one object to another, excluding a specified property, and ensures they are non-enumerable.
8. `__toCommonJS`: Converts a module's properties to a CommonJS-style module export.

The code then exports two functions from `src/index.ts`: `getSmithyContext` and `normalizeProvider`. `getSmithyContext` retrieves a context associated with a specific key, creating it if it doesn't exist. `normalizeProvider` takes an input and returns a promise-wrapped function if the input is not already a function.

Here is the rewritten version of the original code with the same functionality:

```javascript
const defineProperty = Object.defineProperty;
const getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;
const getOwnPropertyNames = Object.getOwnPropertyNames;
const hasOwnProperty = Object.prototype.hasOwnProperty;

const addFunctionName = (func, name) => 
  defineProperty(func, "name", { value: name, configurable: true });

const exportProperties = (target, properties) => {
  for (const key in properties) {
    defineProperty(target, key, { get: properties[key], enumerable: true });
  }
};

const copyProperties = (to, from, exception, descriptor) => {
  if (from && (typeof from === "object" || typeof from === "function")) {
    for (const key of getOwnPropertyNames(from)) {
      if (!hasOwnProperty.call(to, key) && key !== exception) {
        defineProperty(to, key, {
          get: () => from[key],
          enumerable: !(descriptor = getOwnPropertyDescriptor(from, key)) || descriptor.enumerable,
        });
      }
    }
  }
  return to;
};

const toCommonJSModule = (module) => 
  copyProperties(defineProperty({}, "__esModule", { value: true }), module);

const srcExports = {};

exportProperties(srcExports, {
  getSmithyContext: () => getSmithyContext,
  normalizeProvider: () => normalizeProvider
});

module.exports = toCommonJSModule(srcExports);

// src/getSmithyContext.js
const { SMITHY_CONTEXT_KEY } = require("@smithy/types");

const getSmithyContext = addFunctionName((context) => {
  return context[SMITHY_CONTEXT_KEY] || (context[SMITHY_CONTEXT_KEY] = {});
}, "getSmithyContext");

// src/normalizeProvider.js
const normalizeProvider = addFunctionName((input) => {
  if (typeof input === "function") return input;
  const promisified = Promise.resolve(input);
  return () => promisified;
}, "normalizeProvider");

0 && (module.exports = {
  getSmithyContext,
  normalizeProvider
});
```