The provided Node.js code defines and exports a set of functions and middleware related to calculating and setting the "Content-Length" header in HTTP requests. Here's a breakdown of the functionality:

1. **Utility Functions**:
   - `__defProp`: Shortcut for `Object.defineProperty`.
   - `__getOwnPropDesc`: Shortcut for `Object.getOwnPropertyDescriptor`.
   - `__getOwnPropNames`: Shortcut for `Object.getOwnPropertyNames`.
   - `__hasOwnProp`: Shortcut to `Object.prototype.hasOwnProperty`.

2. **Helper Functions**:
   - `__name`: Sets the "name" property on a function.
   - `__export`: Exports multiple getters on a target object.
   - `__copyProps`: Copies properties from one object to another, excluding specified properties, and creating property descriptors for the copied properties.
   - `__toCommonJS`: Converts a module to a CommonJS export with an "__esModule" indicator.

3. **Main Code**:
   - Defines and exports three main items:
     - `contentLengthMiddleware` is a middleware function that checks if the request body length is already specified and if not, calculates it using `bodyLengthChecker` and sets the "Content-Length" header.
     - `contentLengthMiddlewareOptions` provides options for the middleware such as step, tags, and override settings.
     - `getContentLengthPlugin` is a function that integrates the middleware into a client stack, based on provided options.

4. **Middleware Logic**:
   - The `contentLengthMiddleware` function inspects and modifies HTTP requests to ensure the "Content-Length" header is present.
   - Uses the `bodyLengthChecker` function to determine the body length if the header is missing.
   - Modifies the headers of the request to include the calculated "Content-Length".

Here is a possible rewrite of this Node.js code:

```javascript
const { HttpRequest } = require("@smithy/protocol-http");

const CONTENT_LENGTH_HEADER = "content-length";

// Helper functions for property definitions and exports
function defineProperty(obj, prop, descriptor) {
  Object.defineProperty(obj, prop, descriptor);
}

function getOwnPropertyDescriptor(obj, prop) {
  return Object.getOwnPropertyDescriptor(obj, prop);
}

function getOwnPropertyNames(obj) {
  return Object.getOwnPropertyNames(obj);
}

function hasOwnProperty(obj, prop) {
  return Object.prototype.hasOwnProperty.call(obj, prop);
}

function setName(func, name) {
  return defineProperty(func, "name", { value: name, configurable: true });
}

function exportProperties(target, source) {
  for (const key in source) {
    defineProperty(target, key, { get: source[key], enumerable: true });
  }
}

function copyProperties(dest, src, exclude, descriptor) {
  if (src && (typeof src === "object" || typeof src === "function")) {
    for (const key of getOwnPropertyNames(src)) {
      if (!hasOwnProperty(dest, key) && key !== exclude) {
        defineProperty(dest, key, {
          get: () => src[key],
          enumerable: !(descriptor = getOwnPropertyDescriptor(src, key)) || descriptor.enumerable,
        });
      }
    }
  }
  return dest;
}

function toCommonJS(mod) {
  return copyProperties(defineProperty({}, "__esModule", { value: true }), mod);
}

// Middleware and Plugin definitions
function contentLengthMiddleware(bodyLengthChecker) {
  return (next) => async (args) => {
    const request = args.request;
    if (HttpRequest.isInstance(request)) {
      const { body, headers } = request;
      if (body && !Object.keys(headers).map((key) => key.toLowerCase()).includes(CONTENT_LENGTH_HEADER)) {
        try {
          const length = bodyLengthChecker(body);
          request.headers = {
            ...request.headers,
            [CONTENT_LENGTH_HEADER]: String(length),
          };
        } catch (error) {
          // Error handling can be added here if required
        }
      }
    }
    return next({
      ...args,
      request,
    });
  };
}

setName(contentLengthMiddleware, "contentLengthMiddleware");

const contentLengthMiddlewareOptions = {
  step: "build",
  tags: ["SET_CONTENT_LENGTH", "CONTENT_LENGTH"],
  name: "contentLengthMiddleware",
  override: true,
};

const getContentLengthPlugin = setName((options) => ({
  applyToStack: (clientStack) => {
    clientStack.add(contentLengthMiddleware(options.bodyLengthChecker), contentLengthMiddlewareOptions);
  },
}), "getContentLengthPlugin");

// Export for CommonJS
module.exports = toCommonJS({
  contentLengthMiddleware,
  contentLengthMiddlewareOptions,
  getContentLengthPlugin,
});
```