The Node.js code uses the ES6 module system to import everything from a module named `pure` and re-export it, except for any default export or `__esModule` property. It also adds a mechanism to automatically run a cleanup function after each test in environments with test runners that support the `afterEach` or `teardown` hooks. This ensures the tests run independently. However, this cleanup is conditional and will not run if the environment variable `RTL_SKIP_AUTO_CLEANUP` is set to 'true'.

Here's a rewritten version of the code:

```javascript
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

// Import all named exports from the 'pure' module
var _pure = require("./pure");

// Re-export all named exports from 'pure', except 'default' and '__esModule'
for (const key of Object.keys(_pure)) {
  if (key !== "default" && key !== "__esModule" && (!_pure[key] || exports[key] !== _pure[key])) {
    Object.defineProperty(exports, key, {
      enumerable: true,
      get: () => _pure[key],
    });
  }
}

// Automatically run cleanup after each test if supported by the test runner
if (!process.env.RTL_SKIP_AUTO_CLEANUP) {
  if (typeof afterEach === 'function') {
    afterEach(() => {
      (0, _pure.cleanup)();
    });
  } else if (typeof teardown === 'function') {
    // eslint-disable-next-line no-undef
    teardown(() => {
      (0, _pure.cleanup)();
    });
  }
}
```