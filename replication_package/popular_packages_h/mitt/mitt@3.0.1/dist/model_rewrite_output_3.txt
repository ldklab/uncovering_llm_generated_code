The provided Node.js code is a simple event emitter implementation. It allows for registering event listeners, removing them, and emitting events to notify listeners.

Here's a brief breakdown of the main functionalities:

1. **Initialization**: The event emitter can be initialized with an existing `Map` object or a new one. The `Map` will hold events and their associated listeners.

2. **on(event, listener)**: This method registers a listener for a specific event. If the event already has listeners, it adds the new listener to the existing array. If not, it creates a new entry in the map with the event as the key and the listener in an array as the value.

3. **off(event, listener)**: This method removes a specific listener from an event's listener array. If the listener is not specified, it removes all listeners for that event.

4. **emit(event, payload)**: This method calls all listeners for a specific event with the given payload. It also checks for wildcard listeners (`*`) and invokes them with both the event and the payload.

Here is a rewritten version of the code:

```javascript
module.exports = function(initialEvents) {
  // Initialize 'all' with a Map object, use input Map if provided
  return {
    all: initialEvents = initialEvents || new Map(),
    
    on: function(event, listener) {
      // Retrieve existing listeners for the event, or initialize a new list
      const listeners = initialEvents.get(event);
      
      // If listeners already exist, add the new listener; otherwise, set a new array with the listener
      listeners ? listeners.push(listener) : initialEvents.set(event, [listener]);
    },

    off: function(event, listener) {
      // Retrieve existing listeners for the event
      const listeners = initialEvents.get(event);
      
      // If listeners exist
      if (listeners) {
        // If a specific listener is provided, remove it
        if (listener) {
          const index = listeners.indexOf(listener) >>> 0;
          listeners.splice(index, 1);
        } else {
          // If no specific listener, remove all listeners for the event
          initialEvents.set(event, []);
        }
      }
    },

    emit: function(event, payload) {
      // Retrieve listeners for the specific event
      let listeners = initialEvents.get(event);
      if (listeners) {
        // Notify each listener with the payload
        listeners.slice().forEach(fn => fn(payload));
      }
      
      // Also notify wildcard listeners ('*') with the event and payload
      listeners = initialEvents.get("*");
      if (listeners) {
        listeners.slice().forEach(fn => fn(event, payload));
      }
    }
  };
};

//# sourceMappingURL=mitt.js.map
```