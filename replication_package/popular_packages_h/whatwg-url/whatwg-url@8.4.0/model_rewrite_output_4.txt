The original Node.js code imports functions and classes related to URL handling from a specific library (likely a custom or third-party library) and makes them available for use in a shared global object mimicking a browser-like environment's Window object. This setup allows the `URL` and `URLSearchParams` constructors, along with various utility functions related to URL parsing, serialization, and manipulation, to be exported and used elsewhere in an application.

Below, the functionality of the code is reproduced with a similar setup:

```javascript
"use strict";

const { URL, URLSearchParams } = require("./webidl2js-wrapper");
const urlStateMachine = require("./dist/url-state-machine");
const percentEncoding = require("./dist/percent-encoding");

// Create an object to mimic the global Window object used in browser environments
const browserLikeGlobalObject = {};

// Install URL and URLSearchParams into the global object
URL.install(browserLikeGlobalObject, ["Window"]);
URLSearchParams.install(browserLikeGlobalObject, ["Window"]);

// Export the URL and URLSearchParams objects from the shared global environment
exports.URL = browserLikeGlobalObject.URL;
exports.URLSearchParams = browserLikeGlobalObject.URLSearchParams;

// Export various state machine functions for parsing and handling URLs
exports.parseURL = urlStateMachine.parseURL;
exports.basicURLParse = urlStateMachine.basicURLParse;
exports.serializeURL = urlStateMachine.serializeURL;
exports.serializeHost = urlStateMachine.serializeHost;
exports.serializeInteger = urlStateMachine.serializeInteger;
exports.serializeURLOrigin = urlStateMachine.serializeURLOrigin;
exports.setTheUsername = urlStateMachine.setTheUsername;
exports.setThePassword = urlStateMachine.setThePassword;
exports.cannotHaveAUsernamePasswordPort = urlStateMachine.cannotHaveAUsernamePasswordPort;

// Export percent decoding function
exports.percentDecode = percentEncoding.percentDecodeBytes;
```