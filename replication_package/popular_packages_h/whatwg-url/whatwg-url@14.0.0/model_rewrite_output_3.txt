The Node.js code provided is a module that implements and exports URL handling functions. It imports classes and functions from `webidl2js-wrapper`, `url-state-machine`, and `percent-encoding` modules. Here's a breakdown of its functionality:

1. It imports `URL` and `URLSearchParams` components and installs their functionalities into a shared global object containing JavaScript's `Array`, `Object`, `Promise`, `String`, and `TypeError`, under the context of "Window".

2. It exports these global `URL` and `URLSearchParams` objects for external use.

3. It imports and then re-exports several functions from the `url-state-machine` module related to parsing, serializing, and handling URLs. These functions include parsing URLs, serializing parts of URLs (path, host, integers, origin), and setting or checking URL-related user information such as username and password.

4. Additionally, it imports and exports two functions from the `percent-encoding` module for decoding percent-encoded strings and bytes.

Here's a possible rewritten version of the code:

```javascript
"use strict";

const { URL, URLSearchParams } = require("./webidl2js-wrapper");
const urlStateMachine = require("./lib/url-state-machine");
const percentEncoding = require("./lib/percent-encoding");

// Set up a shared global object with specified global constructors for installation
const sharedGlobalObject = { Array, Object, Promise, String, TypeError };

// Install URL and URLSearchParams on the shared global object
URL.install(sharedGlobalObject, ["Window"]);
URLSearchParams.install(sharedGlobalObject, ["Window"]);

// Export the installed URL components
exports.URL = sharedGlobalObject.URL;
exports.URLSearchParams = sharedGlobalObject.URLSearchParams;

// Re-export functions from the urlStateMachine module for URL handling
exports.parseURL = urlStateMachine.parseURL;
exports.basicURLParse = urlStateMachine.basicURLParse;
exports.serializeURL = urlStateMachine.serializeURL;
exports.serializePath = urlStateMachine.serializePath;
exports.serializeHost = urlStateMachine.serializeHost;
exports.serializeInteger = urlStateMachine.serializeInteger;
exports.serializeURLOrigin = urlStateMachine.serializeURLOrigin;
exports.setTheUsername = urlStateMachine.setTheUsername;
exports.setThePassword = urlStateMachine.setThePassword;
exports.cannotHaveAUsernamePasswordPort = urlStateMachine.cannotHaveAUsernamePasswordPort;
exports.hasAnOpaquePath = urlStateMachine.hasAnOpaquePath;

// Re-export functions from the percentEncoding module for decoding
exports.percentDecodeString = percentEncoding.percentDecodeString;
exports.percentDecodeBytes = percentEncoding.percentDecodeBytes;
```