The provided code is a Node.js script used to collect and organize Unicode character properties from a directory structure. The main script (`index.js`) reads through all subdirectories and JavaScript files in its own directory to dynamically gather Unicode properties based on categories, scripts, and other criteria. These properties are stored in objects, using the directory and file names to determine the properties' categories and names. Each individual JavaScript file exports a set of characters (and optionally strings) using the `regenerate` library, which helps in managing Unicode ranges efficiently. Lastly, there's a version file storing the Unicode version being used.

Here is a rewrite of the provided Node.js code:

```javascript
// directory: regenerate-unicode-properties/index.js
const fs = require('fs');
const path = require('path');

// Retrieve Unicode properties from categorized files
function getProperties() {
  const propertiesDir = __dirname;
  const properties = {};
  
  // Read through each category (subdirectory) in the current directory
  fs.readdirSync(propertiesDir).forEach(category => {
    const categoryPath = path.join(propertiesDir, category);
    
    // If a category is a directory, further process files within
    if (fs.lstatSync(categoryPath).isDirectory()) {
      properties[category] = {};
      
      // Read each JavaScript file within the directory
      fs.readdirSync(categoryPath).forEach(file => {
        if (file.endsWith('.js')) {
          const propertyName = path.basename(file, '.js');
          
          // Require the file to get the character set from its exports
          const propertyModule = require(path.join(categoryPath, file));
          properties[category][propertyName] = propertyModule.characters;
        }
      });
    }
  });
  
  return properties;
}

// Export the collected properties immediately
module.exports = getProperties();

// directory: regenerate-unicode-properties/General_Category/Uppercase_Letter.js
const regenerate = require('regenerate');

exports.characters = regenerate()
  .addRange(0x0041, 0x005A) // Characters A-Z
  .addRange(0x00C0, 0x00D6) // Characters Ã€-Ã–
  .addRange(0x00D8, 0x00DE); // Characters Ã˜-Ã

// directory: regenerate-unicode-properties/Script_Extensions/Greek.js
const regenerate = require('regenerate');

exports.characters = regenerate()
  .addRange(0x0370, 0x03FF); // Characters from Greek and Coptic block

// directory: regenerate-unicode-properties/Property_of_Strings/Basic_Emoji.js
const regenerate = require('regenerate');

exports.characters = regenerate()
  .addRange(0x1F600, 0x1F64F); // Emoticon range

// Additional specific emojis exported as strings
exports.strings = ['ğŸ˜€', 'ğŸ˜', 'ğŸ˜‚', 'ğŸ¤£', 'ğŸ˜ƒ', 'ğŸ˜„'];

// directory: regenerate-unicode-properties/unicode-version.js
module.exports = 'Unicode 13.0.0';
```
