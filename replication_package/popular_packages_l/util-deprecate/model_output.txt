The `util-deprecate` module provides a way to mark a function as deprecated. In Node.js environments, it utilizes the existing `util.deprecate()` function from the `util` module. However, for browser environments (such as when using browserify), it implements its own version of the `deprecate()` function.

### Functionality:
- **Node.js Environment**: The package re-exports the `deprecate()` function from Node.js's util module.
- **Browser Environment**: It provides a custom implementation for the `deprecate()` function, which warns users when a deprecated function is invoked.

### API:
- `deprecate(function, message)`:
  - Takes a function and a message as arguments.
  - Returns a new function that emits the deprecation warning (only once) when invoked, and then calls the original function.

### Usage:
- Use the `deprecate()` function to mark any function as deprecated.
- When the deprecated function is called, a warning is printed to the console with the provided message.

Here's the implementation:

```javascript
(function (exports, global) {
  'use strict';

  // Node.js environment
  if (typeof process !== 'undefined' && process.version) {
    const util = require('util');
    exports.deprecate = util.deprecate;
  } else { // Browser environment
    let warned = {};

    exports.deprecate = function(fn, msg) {
      function deprecated() {
        if (!warned[msg]) {
          if (typeof console !== 'undefined' && console.warn) {
            console.warn(msg);
          }
          warned[msg] = true;
        }
        return fn.apply(this, arguments);
      }
      return deprecated;
    };
  }
})(typeof exports === 'undefined' ? this['utilDeprecate'] = {} : exports, this);
```

This implementation checks if the Node.js `process` object is present to determine the environment. If it is, the Node.js `util.deprecate()` is used. Otherwise, it creates a custom deprecation function suitable for browsers. This warns users once by printing a message to the console when they use a deprecated function.