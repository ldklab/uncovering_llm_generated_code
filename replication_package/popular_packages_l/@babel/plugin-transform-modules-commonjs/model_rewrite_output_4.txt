```javascript
// index.js

const babel = require('@babel/core');
const commonJsPlugin = require('./transformESModulesToCommonJS');

// Sample code to be transformed
const es6Code = `
import { example } from './exampleModule';
export const myFunction = () => {
  return example();
};
`;

// Transform the ES6 module code to CommonJS
const transformedCode = babel.transformSync(es6Code, {
  plugins: [commonJsPlugin]
});

console.log(transformedCode.code);

// transformESModulesToCommonJS.js

module.exports = function transformESModulesToCommonJS() {
  return {
    visitor: {
      ImportDeclaration(path) {
        const source = path.node.source.value;
        const specifiers = path.node.specifiers.map(specifier => specifier.local.name);

        let requireStatement = `const { ${specifiers.join(', ')} } = require('${source}');`;
        path.replaceWithSourceString(requireStatement);
      },
      ExportNamedDeclaration(path) {
        const declarations = path.node.declaration.declarations.map(declaration => {
          const { name } = declaration.id;
          return `exports.${name} = ${name};`;
        });

        path.replaceWithSourceString(declarations.join('\n'));
      }
    }
  };
};
```

**Explanation:**

This code is a Node.js script that uses Babel to transform ES6 module syntax into CommonJS syntax. It contains two files: `index.js` and `transformESModulesToCommonJS.js`.

1. **index.js**:
   - It imports Babel's core functionality and a custom plugin from `transformESModulesToCommonJS.js`.
   - It defines a sample ES6 module code as a string (`es6Code`).
   - It uses Babel to transform the ES6 code into CommonJS syntax by specifying the custom plugin.
   - It logs the transformed code to the console.

2. **transformESModulesToCommonJS.js**:
   - Exports a Babel plugin that defines visitors for modifying the AST (Abstract Syntax Tree) nodes for import and export declarations.
   - **ImportDeclaration Visitor**:
     - Transforms ES6 `import` statements into `require` statements. For instance, it converts `import { example } from './exampleModule';` to `const { example } = require('./exampleModule');`.
   - **ExportNamedDeclaration Visitor**:
     - Transforms ES6 `export` statements into `exports` assignments. For instance, it converts `export const myFunction = ...;` to `exports.myFunction = myFunction;`.

This transformation allows using ES6 module syntax in environments that only support CommonJS.