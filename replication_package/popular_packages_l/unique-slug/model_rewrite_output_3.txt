The Node.js code defines a function `uniqueSlug` which generates an 8-character unique slug from an input string or creates a random slug if no input string is provided:

1. If an input string is provided to `uniqueSlug`, it computes a SHA-256 hash of the string, and then slices the first 8 characters from the hexadecimal representation of this hash to return as the unique slug.
2. If no input string is provided, it generates 4 random bytes and converts them to an 8-character hexadecimal string to provide a random slug.

Here's the rewritten code:

```javascript
// unique-slug.js

const crypto = require('crypto');

function uniqueSlug(input) {
    if (input) {
        const sha256Hash = crypto.createHash('sha256').update(input).digest('hex');
        return sha256Hash.slice(0, 8);
    } else {
        return crypto.randomBytes(4).toString('hex');
    }
}

module.exports = uniqueSlug;

// Example Usage:
// const uniqueSlug = require('./unique-slug');
// console.log(uniqueSlug()); // Random 8-character slug
// console.log(uniqueSlug('/etc/passwd')); // Hash-based 8-character slug
```