The Node.js code provided defines a set of prop types for a React component using the `prop-types` library. It specifies various prop type constraints for properties that might be passed into a component, including primitive types, instances of classes, enums of specific values, unions of types, arrays, objects with specific shapes, and custom validation logic. The code also provides a utility function to manually check these prop types outside of a React component using `PropTypes.checkPropTypes`. Finally, this set of prop types is applied to a sample React component class called `MyComponent`.

Here is a possible rewrite of the code:

```javascript
// props-validator.js
import PropTypes from 'prop-types';
import React from 'react';

// Define prop types for a hypothetical component
const MyComponentPropTypes = {
  optionalString: PropTypes.string,
  optionalNumber: PropTypes.number.isRequired,
  optionalInstance: PropTypes.instanceOf(Date),
  optionalEnum: PropTypes.oneOf(['News', 'Photos']),
  optionalUnion: PropTypes.oneOfType([
    PropTypes.string,
    PropTypes.number
  ]),
  optionalArrayOfNumbers: PropTypes.arrayOf(PropTypes.number),
  optionalObjectWithShape: PropTypes.shape({
    optionalProperty: PropTypes.string,
    requiredProperty: PropTypes.number.isRequired
  }),
  customProp: (props, propName, componentName) => {
    if (!/matchme/.test(props[propName])) {
      return new Error(`Invalid prop \`${propName}\` supplied to \`${componentName}\`. Validation failed.`);
    }
  }
};

// Utility function to check prop types manually
function checkProps(props) {
  PropTypes.checkPropTypes(MyComponentPropTypes, props, 'prop', 'MyComponent');
}

// Example usage in a React component
class MyComponent extends React.Component {
  render() {
    return <div>{this.props.optionalString}</div>;
  }
}

MyComponent.propTypes = MyComponentPropTypes;

export { MyComponentPropTypes, checkProps };
export default MyComponent;
```