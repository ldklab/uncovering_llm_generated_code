The given Node.js code provides a simplified React custom hook `useForm`, which manages form state, including form data and validation errors. It offers functionalities to register form fields with specific validation rules and handle submission processes.

### Explanation:

1. **useState**: Used to store `formData` (for holding form field values) and `errors` (to track validation errors for each field).

2. **register function**: Generates form field props, enabling fields to update the `formData` state on changes. It includes validations like `required` and regex `pattern` check during the `onBlur` (losing focus) event, updating any validation errors in the `errors` state.

3. **handleSubmit function**: This callback is used as a form submission handler. It validates that there are no errors in the `errors` object and, if valid, executes a given submission function with `formData`.

4. **useCallback**: This React hook optimizes and memoizes the `handleSubmit` function, preventing unnecessary re-creations of this function each time the component re-renders.

5. **FormComponent**: Exemplifies the usage of `useForm` within a functional component. It registers three input fields, applies validation, and handles form submission to log valid form data.

Here's the simplified and cleaned-up version of the original code:

```javascript
const { useState, useCallback } = require('react');

// Simplified mock of `useForm` hook
function useForm() {
  const [formData, setFormData] = useState({});
  const [errors, setErrors] = useState({});

  const register = (fieldName, validations = {}) => ({
    name: fieldName,
    onChange: (e) => setFormData(prev => ({ ...prev, [fieldName]: e.target.value })),
    onBlur: () => {
      const value = formData[fieldName];
      let error = false;

      if (validations.required && !value) {
        error = 'This field is required.';
      } else if (validations.pattern && !validations.pattern.test(value)) {
        error = 'Invalid format.';
      }

      setErrors(prev => ({ ...prev, [fieldName]: error }));
    }
  });

  const handleSubmit = useCallback((onSubmit) => {
    return (e) => {
      e.preventDefault();
      let valid = true;

      for (const key in errors) {
        if (errors[key]) {
          valid = false;
          break;
        }
      }

      if (valid) {
        onSubmit(formData);
      }
    };
  }, [errors, formData]);

  return { register, handleSubmit, formState: { errors } };
}

// Example of using the `useForm` in a simplified React component
function FormComponent() {
  const { register, handleSubmit, formState: { errors } } = useForm();

  const onSubmit = (data) => {
    console.log('Submitted Data: ', data);
  };

  return (
    `<form onSubmit=${handleSubmit(onSubmit)}>
        <input ${register('firstName').name} />
        <input ${register('lastName', { required: true }).name} />
        ${errors.lastName ? '<p>Last name is required.</p>' : ''}
        <input ${register('age', { pattern: /\d+/ }).name} />
        ${errors.age ? '<p>Please enter a number for age.</p>' : ''}
        <button type="submit">Submit</button>
     </form>`
  );
}

module.exports = { useForm, FormComponent };
```